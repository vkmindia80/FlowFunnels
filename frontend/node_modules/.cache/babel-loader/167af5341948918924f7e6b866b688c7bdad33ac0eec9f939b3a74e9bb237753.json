{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{DndContext,useSensor,useSensors,PointerSensor,useDroppable}from'@dnd-kit/core';import{v4 as uuidv4}from'uuid';import ElementRenderer from'./ElementRenderer';import{ZoomIn,ZoomOut,Maximize2,Monitor,Tablet,Smartphone,Copy,Trash2,Grid3x3}from'lucide-react';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const FunnelCanvas=_ref=>{let{elements,onElementsChange,selectedElement,setSelectedElement}=_ref;const[zoom,setZoom]=useState(100);const[viewMode,setViewMode]=useState('desktop');const[draggedElement,setDraggedElement]=useState(null);const[showGrid,setShowGrid]=useState(false);const sensors=useSensors(useSensor(PointerSensor,{activationConstraint:{distance:5}}));const{setNodeRef,isOver}=useDroppable({id:'canvas-droppable'});const getCanvasWidth=()=>{switch(viewMode){case'mobile':return 375;case'tablet':return 768;case'desktop':return 1280;default:return 1280;}};const getDefaultSize=type=>{switch(type){case'heading':return{width:600,height:80};case'text':return{width:500,height:60};case'button':return{width:200,height:50};case'image':return{width:400,height:300};case'video':return{width:560,height:315};case'input':return{width:400,height:50};case'textarea':return{width:400,height:120};case'email':return{width:400,height:50};case'phone':return{width:400,height:50};case'url':return{width:400,height:50};case'number':return{width:400,height:50};case'checkbox':return{width:300,height:40};case'radio':return{width:300,height:120};case'select':return{width:400,height:50};case'multiselect':return{width:400,height:120};case'toggle':return{width:300,height:40};case'date':return{width:400,height:50};case'time':return{width:400,height:50};case'file':return{width:400,height:50};case'range':return{width:400,height:60};case'rating':return{width:300,height:60};case'progress':return{width:500,height:60};case'container':return{width:600,height:300};case'divider':return{width:600,height:2};case'spacer':return{width:600,height:40};default:return{width:200,height:100};}};const getDefaultStyles=type=>{const common={display:'flex',alignItems:'center',justifyContent:'center'};switch(type){case'heading':return _objectSpread({fontSize:'36px',fontWeight:'bold',color:'#1f2937',textAlign:'center',lineHeight:'1.2'},common);case'text':return{fontSize:'16px',fontWeight:'normal',color:'#4b5563',textAlign:'left',lineHeight:'1.6',padding:'8px'};case'button':return _objectSpread({backgroundColor:'#0ea5e9',color:'#ffffff',borderRadius:'8px',fontSize:'16px',fontWeight:'600',border:'none',cursor:'pointer'},common);case'image':return{borderRadius:'8px',objectFit:'cover'};case'video':return{borderRadius:'8px'};case'input':case'textarea':case'email':case'phone':case'url':case'number':case'select':case'multiselect':case'date':case'time':case'file':return{padding:'12px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px',backgroundColor:'#ffffff'};case'checkbox':case'radio':case'toggle':return{display:'flex',alignItems:'center',gap:'8px',fontSize:'14px'};case'range':return{padding:'8px'};case'rating':return{padding:'8px'};case'progress':return{padding:'8px'};case'container':return{backgroundColor:'#f9fafb',padding:'20px',borderRadius:'8px'};case'divider':return{backgroundColor:'#e5e7eb',height:'2px',width:'100%'};case'spacer':return{backgroundColor:'transparent'};default:return{};}};const getDefaultContent=type=>{switch(type){case'heading':return{text:'Your Headline Here'};case'text':return{text:'Add your text content here. You can edit this in the properties panel.'};case'button':return{text:'Click Me',url:'#'};case'image':return{src:'https://via.placeholder.com/400x300',alt:'Image'};case'video':return{url:'https://www.youtube.com/embed/dQw4w9WgXcQ'};case'input':return{type:'text',placeholder:'Enter text',label:'Text Input',required:false};case'textarea':return{placeholder:'Enter your message',label:'Message',required:false};case'email':return{placeholder:'your@email.com',label:'Email Address',required:false};case'phone':return{placeholder:'+1 (555) 000-0000',label:'Phone Number',required:false};case'url':return{placeholder:'https://example.com',label:'Website URL',required:false};case'number':return{placeholder:'0',label:'Number',min:0,max:100,step:1,required:false};case'checkbox':return{label:'I agree to the terms and conditions',checked:false};case'radio':return{label:'Choose one option',options:['Option 1','Option 2','Option 3']};case'select':return{label:'Select an option',options:['Option 1','Option 2','Option 3']};case'multiselect':return{label:'Select multiple',options:['Option 1','Option 2','Option 3','Option 4']};case'toggle':return{label:'Enable feature',checked:false};case'date':return{label:'Select date'};case'time':return{label:'Select time'};case'file':return{label:'Upload file',accept:'*'};case'range':return{label:'Select value',min:0,max:100,value:50};case'rating':return{label:'Rate this',maxRating:5,rating:0};case'progress':return{label:'Progress',value:50};case'container':return{text:'Container Section'};case'divider':return{};case'spacer':return{height:'40px'};default:return{};}};const handleDragStart=event=>{const{active}=event;if(active.id.startsWith('library-')){const elementType=active.id.replace('library-','');setDraggedElement(elementType);}};const handleDragEnd=event=>{const{over}=event;if(over&&over.id==='canvas-droppable'&&draggedElement){const canvasElement=document.getElementById('canvas-drop-zone');const rect=canvasElement.getBoundingClientRect();const x=event.activatorEvent.clientX-rect.left;const y=event.activatorEvent.clientY-rect.top;const newElement={id:uuidv4(),type:draggedElement,position:{x:Math.max(20,x-100),y:Math.max(20,y-25)},size:getDefaultSize(draggedElement),styles:getDefaultStyles(draggedElement),content:getDefaultContent(draggedElement)};onElementsChange([...elements,newElement]);setSelectedElement(newElement.id);}setDraggedElement(null);};const handleCanvasClick=e=>{if(e.target.id==='canvas-drop-zone'||e.target.classList.contains('canvas-background')){setSelectedElement(null);}};const handleElementClick=(elementId,e)=>{e.stopPropagation();setSelectedElement(elementId);};const duplicateElement=()=>{if(!selectedElement)return;const element=elements.find(el=>el.id===selectedElement);if(element){const newElement=_objectSpread(_objectSpread({},element),{},{id:uuidv4(),position:{x:element.position.x+20,y:element.position.y+20}});onElementsChange([...elements,newElement]);setSelectedElement(newElement.id);}};const deleteElement=()=>{if(!selectedElement)return;onElementsChange(elements.filter(el=>el.id!==selectedElement));setSelectedElement(null);};// Keyboard shortcuts\nReact.useEffect(()=>{const handleKeyDown=e=>{if(e.key==='Delete'&&selectedElement){deleteElement();}if(e.key==='d'&&(e.ctrlKey||e.metaKey)&&selectedElement){e.preventDefault();duplicateElement();}};window.addEventListener('keydown',handleKeyDown);return()=>window.removeEventListener('keydown',handleKeyDown);},[selectedElement,elements]);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex flex-col bg-gray-50 overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border-b border-gray-200 px-6 py-3 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewMode('desktop'),className:\"p-2 rounded-lg transition-colors \".concat(viewMode==='desktop'?'bg-primary-100 text-primary-600':'text-gray-600 hover:bg-gray-100'),title:\"Desktop View\",children:/*#__PURE__*/_jsx(Monitor,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewMode('tablet'),className:\"p-2 rounded-lg transition-colors \".concat(viewMode==='tablet'?'bg-primary-100 text-primary-600':'text-gray-600 hover:bg-gray-100'),title:\"Tablet View\",children:/*#__PURE__*/_jsx(Tablet,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewMode('mobile'),className:\"p-2 rounded-lg transition-colors \".concat(viewMode==='mobile'?'bg-primary-100 text-primary-600':'text-gray-600 hover:bg-gray-100'),title:\"Mobile View\",children:/*#__PURE__*/_jsx(Smartphone,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-px h-6 bg-gray-300 mx-2\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowGrid(!showGrid),className:\"p-2 rounded-lg transition-colors \".concat(showGrid?'bg-primary-100 text-primary-600':'text-gray-600 hover:bg-gray-100'),title:\"Toggle Grid\",children:/*#__PURE__*/_jsx(Grid3x3,{className:\"w-5 h-5\"})}),selectedElement&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-px h-6 bg-gray-300 mx-2\"}),/*#__PURE__*/_jsx(\"button\",{onClick:duplicateElement,className:\"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\",title:\"Duplicate (Ctrl/Cmd+D)\",children:/*#__PURE__*/_jsx(Copy,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:deleteElement,className:\"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors\",title:\"Delete (Del)\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-5 h-5\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 bg-gray-100 rounded-lg px-2 py-1\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setZoom(Math.max(50,zoom-10)),className:\"p-1 hover:bg-white rounded transition-colors\",title:\"Zoom Out\",children:/*#__PURE__*/_jsx(ZoomOut,{className:\"w-4 h-4 text-gray-600\"})}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-gray-700 min-w-[60px] text-center\",children:[zoom,\"%\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setZoom(Math.min(200,zoom+10)),className:\"p-1 hover:bg-white rounded transition-colors\",title:\"Zoom In\",children:/*#__PURE__*/_jsx(ZoomIn,{className:\"w-4 h-4 text-gray-600\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setZoom(100),className:\"p-1 hover:bg-white rounded transition-colors ml-1\",title:\"Reset Zoom\",children:/*#__PURE__*/_jsx(Maximize2,{className:\"w-4 h-4 text-gray-600\"})})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-auto p-8\",onClick:handleCanvasClick,children:/*#__PURE__*/_jsx(DndContext,{sensors:sensors,onDragStart:handleDragStart,onDragEnd:handleDragEnd,children:/*#__PURE__*/_jsxs(\"div\",{ref:setNodeRef,id:\"canvas-drop-zone\",className:\"canvas-background mx-auto bg-white rounded-lg shadow-lg relative \".concat(isOver&&draggedElement?'ring-4 ring-primary-300 ring-opacity-50':''),style:{width:\"\".concat(getCanvasWidth(),\"px\"),minHeight:'1000px',transform:\"scale(\".concat(zoom/100,\")\"),transformOrigin:'top center',transition:'transform 0.2s',backgroundImage:showGrid?'linear-gradient(#e5e7eb 1px, transparent 1px), linear-gradient(90deg, #e5e7eb 1px, transparent 1px)':'none',backgroundSize:showGrid?'20px 20px':'auto'},children:[elements.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 flex items-center justify-center pointer-events-none\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-gray-400\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-medium mb-2\",children:\"Drop elements here\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"Drag elements from the left sidebar to start building\"})]})}),draggedElement&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-primary-50 bg-opacity-20 border-2 border-dashed border-primary-400 rounded-lg flex items-center justify-center pointer-events-none\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-primary-600 font-medium\",children:[\"Drop to add \",draggedElement]})}),elements.map(element=>/*#__PURE__*/_jsxs(\"div\",{onClick:e=>handleElementClick(element.id,e),className:\"absolute cursor-move hover:ring-2 hover:ring-primary-300 transition-all \".concat(selectedElement===element.id?'ring-2 ring-primary-500':''),style:{left:\"\".concat(element.position.x,\"px\"),top:\"\".concat(element.position.y,\"px\"),width:\"\".concat(element.size.width,\"px\"),height:\"\".concat(element.size.height,\"px\"),zIndex:selectedElement===element.id?10:1},children:[/*#__PURE__*/_jsx(ElementRenderer,{element:element}),selectedElement===element.id&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute -top-6 left-0 bg-primary-600 text-white text-xs px-2 py-1 rounded\",children:element.type})]},element.id))]})})})]});};export default FunnelCanvas;","map":{"version":3,"names":["React","useState","DndContext","useSensor","useSensors","PointerSensor","useDroppable","v4","uuidv4","ElementRenderer","ZoomIn","ZoomOut","Maximize2","Monitor","Tablet","Smartphone","Copy","Trash2","Grid3x3","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","FunnelCanvas","_ref","elements","onElementsChange","selectedElement","setSelectedElement","zoom","setZoom","viewMode","setViewMode","draggedElement","setDraggedElement","showGrid","setShowGrid","sensors","activationConstraint","distance","setNodeRef","isOver","id","getCanvasWidth","getDefaultSize","type","width","height","getDefaultStyles","common","display","alignItems","justifyContent","_objectSpread","fontSize","fontWeight","color","textAlign","lineHeight","padding","backgroundColor","borderRadius","border","cursor","objectFit","gap","getDefaultContent","text","url","src","alt","placeholder","label","required","min","max","step","checked","options","accept","value","maxRating","rating","handleDragStart","event","active","startsWith","elementType","replace","handleDragEnd","over","canvasElement","document","getElementById","rect","getBoundingClientRect","x","activatorEvent","clientX","left","y","clientY","top","newElement","position","Math","size","styles","content","handleCanvasClick","e","target","classList","contains","handleElementClick","elementId","stopPropagation","duplicateElement","element","find","el","deleteElement","filter","useEffect","handleKeyDown","key","ctrlKey","metaKey","preventDefault","window","addEventListener","removeEventListener","className","children","onClick","concat","title","onDragStart","onDragEnd","ref","style","minHeight","transform","transformOrigin","transition","backgroundImage","backgroundSize","length","map","zIndex"],"sources":["/app/frontend/src/components/builder/FunnelCanvas.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { DndContext, useSensor, useSensors, PointerSensor, useDroppable } from '@dnd-kit/core';\nimport { v4 as uuidv4 } from 'uuid';\nimport ElementRenderer from './ElementRenderer';\nimport { ZoomIn, ZoomOut, Maximize2, Monitor, Tablet, Smartphone, Copy, Trash2, Grid3x3 } from 'lucide-react';\n\nconst FunnelCanvas = ({ elements, onElementsChange, selectedElement, setSelectedElement }) => {\n  const [zoom, setZoom] = useState(100);\n  const [viewMode, setViewMode] = useState('desktop');\n  const [draggedElement, setDraggedElement] = useState(null);\n  const [showGrid, setShowGrid] = useState(false);\n\n  const sensors = useSensors(\n    useSensor(PointerSensor, {\n      activationConstraint: {\n        distance: 5,\n      },\n    })\n  );\n\n  const { setNodeRef, isOver } = useDroppable({\n    id: 'canvas-droppable',\n  });\n\n  const getCanvasWidth = () => {\n    switch (viewMode) {\n      case 'mobile': return 375;\n      case 'tablet': return 768;\n      case 'desktop': return 1280;\n      default: return 1280;\n    }\n  };\n\n  const getDefaultSize = (type) => {\n    switch (type) {\n      case 'heading': return { width: 600, height: 80 };\n      case 'text': return { width: 500, height: 60 };\n      case 'button': return { width: 200, height: 50 };\n      case 'image': return { width: 400, height: 300 };\n      case 'video': return { width: 560, height: 315 };\n      case 'input': return { width: 400, height: 50 };\n      case 'textarea': return { width: 400, height: 120 };\n      case 'email': return { width: 400, height: 50 };\n      case 'phone': return { width: 400, height: 50 };\n      case 'url': return { width: 400, height: 50 };\n      case 'number': return { width: 400, height: 50 };\n      case 'checkbox': return { width: 300, height: 40 };\n      case 'radio': return { width: 300, height: 120 };\n      case 'select': return { width: 400, height: 50 };\n      case 'multiselect': return { width: 400, height: 120 };\n      case 'toggle': return { width: 300, height: 40 };\n      case 'date': return { width: 400, height: 50 };\n      case 'time': return { width: 400, height: 50 };\n      case 'file': return { width: 400, height: 50 };\n      case 'range': return { width: 400, height: 60 };\n      case 'rating': return { width: 300, height: 60 };\n      case 'progress': return { width: 500, height: 60 };\n      case 'container': return { width: 600, height: 300 };\n      case 'divider': return { width: 600, height: 2 };\n      case 'spacer': return { width: 600, height: 40 };\n      default: return { width: 200, height: 100 };\n    }\n  };\n\n  const getDefaultStyles = (type) => {\n    const common = { display: 'flex', alignItems: 'center', justifyContent: 'center' };\n    \n    switch (type) {\n      case 'heading':\n        return {\n          fontSize: '36px',\n          fontWeight: 'bold',\n          color: '#1f2937',\n          textAlign: 'center',\n          lineHeight: '1.2',\n          ...common\n        };\n      case 'text':\n        return {\n          fontSize: '16px',\n          fontWeight: 'normal',\n          color: '#4b5563',\n          textAlign: 'left',\n          lineHeight: '1.6',\n          padding: '8px'\n        };\n      case 'button':\n        return {\n          backgroundColor: '#0ea5e9',\n          color: '#ffffff',\n          borderRadius: '8px',\n          fontSize: '16px',\n          fontWeight: '600',\n          border: 'none',\n          cursor: 'pointer',\n          ...common\n        };\n      case 'image':\n        return {\n          borderRadius: '8px',\n          objectFit: 'cover'\n        };\n      case 'video':\n        return {\n          borderRadius: '8px'\n        };\n      case 'input':\n      case 'textarea':\n      case 'email':\n      case 'phone':\n      case 'url':\n      case 'number':\n      case 'select':\n      case 'multiselect':\n      case 'date':\n      case 'time':\n      case 'file':\n        return {\n          padding: '12px',\n          border: '1px solid #d1d5db',\n          borderRadius: '6px',\n          fontSize: '14px',\n          backgroundColor: '#ffffff'\n        };\n      case 'checkbox':\n      case 'radio':\n      case 'toggle':\n        return {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '8px',\n          fontSize: '14px'\n        };\n      case 'range':\n        return {\n          padding: '8px'\n        };\n      case 'rating':\n        return {\n          padding: '8px'\n        };\n      case 'progress':\n        return {\n          padding: '8px'\n        };\n      case 'container':\n        return {\n          backgroundColor: '#f9fafb',\n          padding: '20px',\n          borderRadius: '8px'\n        };\n      case 'divider':\n        return {\n          backgroundColor: '#e5e7eb',\n          height: '2px',\n          width: '100%'\n        };\n      case 'spacer':\n        return {\n          backgroundColor: 'transparent'\n        };\n      default:\n        return {};\n    }\n  };\n\n  const getDefaultContent = (type) => {\n    switch (type) {\n      case 'heading':\n        return { text: 'Your Headline Here' };\n      case 'text':\n        return { text: 'Add your text content here. You can edit this in the properties panel.' };\n      case 'button':\n        return { text: 'Click Me', url: '#' };\n      case 'image':\n        return { src: 'https://via.placeholder.com/400x300', alt: 'Image' };\n      case 'video':\n        return { url: 'https://www.youtube.com/embed/dQw4w9WgXcQ' };\n      case 'input':\n        return { type: 'text', placeholder: 'Enter text', label: 'Text Input', required: false };\n      case 'textarea':\n        return { placeholder: 'Enter your message', label: 'Message', required: false };\n      case 'email':\n        return { placeholder: 'your@email.com', label: 'Email Address', required: false };\n      case 'phone':\n        return { placeholder: '+1 (555) 000-0000', label: 'Phone Number', required: false };\n      case 'url':\n        return { placeholder: 'https://example.com', label: 'Website URL', required: false };\n      case 'number':\n        return { placeholder: '0', label: 'Number', min: 0, max: 100, step: 1, required: false };\n      case 'checkbox':\n        return { label: 'I agree to the terms and conditions', checked: false };\n      case 'radio':\n        return { label: 'Choose one option', options: ['Option 1', 'Option 2', 'Option 3'] };\n      case 'select':\n        return { label: 'Select an option', options: ['Option 1', 'Option 2', 'Option 3'] };\n      case 'multiselect':\n        return { label: 'Select multiple', options: ['Option 1', 'Option 2', 'Option 3', 'Option 4'] };\n      case 'toggle':\n        return { label: 'Enable feature', checked: false };\n      case 'date':\n        return { label: 'Select date' };\n      case 'time':\n        return { label: 'Select time' };\n      case 'file':\n        return { label: 'Upload file', accept: '*' };\n      case 'range':\n        return { label: 'Select value', min: 0, max: 100, value: 50 };\n      case 'rating':\n        return { label: 'Rate this', maxRating: 5, rating: 0 };\n      case 'progress':\n        return { label: 'Progress', value: 50 };\n      case 'container':\n        return { text: 'Container Section' };\n      case 'divider':\n        return {};\n      case 'spacer':\n        return { height: '40px' };\n      default:\n        return {};\n    }\n  };\n\n  const handleDragStart = (event) => {\n    const { active } = event;\n    if (active.id.startsWith('library-')) {\n      const elementType = active.id.replace('library-', '');\n      setDraggedElement(elementType);\n    }\n  };\n\n  const handleDragEnd = (event) => {\n    const { over } = event;\n    \n    if (over && over.id === 'canvas-droppable' && draggedElement) {\n      const canvasElement = document.getElementById('canvas-drop-zone');\n      const rect = canvasElement.getBoundingClientRect();\n      const x = event.activatorEvent.clientX - rect.left;\n      const y = event.activatorEvent.clientY - rect.top;\n\n      const newElement = {\n        id: uuidv4(),\n        type: draggedElement,\n        position: { x: Math.max(20, x - 100), y: Math.max(20, y - 25) },\n        size: getDefaultSize(draggedElement),\n        styles: getDefaultStyles(draggedElement),\n        content: getDefaultContent(draggedElement)\n      };\n\n      onElementsChange([...elements, newElement]);\n      setSelectedElement(newElement.id);\n    }\n    \n    setDraggedElement(null);\n  };\n\n  const handleCanvasClick = (e) => {\n    if (e.target.id === 'canvas-drop-zone' || e.target.classList.contains('canvas-background')) {\n      setSelectedElement(null);\n    }\n  };\n\n  const handleElementClick = (elementId, e) => {\n    e.stopPropagation();\n    setSelectedElement(elementId);\n  };\n\n  const duplicateElement = () => {\n    if (!selectedElement) return;\n    \n    const element = elements.find(el => el.id === selectedElement);\n    if (element) {\n      const newElement = {\n        ...element,\n        id: uuidv4(),\n        position: { x: element.position.x + 20, y: element.position.y + 20 }\n      };\n      onElementsChange([...elements, newElement]);\n      setSelectedElement(newElement.id);\n    }\n  };\n\n  const deleteElement = () => {\n    if (!selectedElement) return;\n    onElementsChange(elements.filter(el => el.id !== selectedElement));\n    setSelectedElement(null);\n  };\n\n  // Keyboard shortcuts\n  React.useEffect(() => {\n    const handleKeyDown = (e) => {\n      if (e.key === 'Delete' && selectedElement) {\n        deleteElement();\n      }\n      if (e.key === 'd' && (e.ctrlKey || e.metaKey) && selectedElement) {\n        e.preventDefault();\n        duplicateElement();\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [selectedElement, elements]);\n\n  return (\n    <div className=\"flex-1 flex flex-col bg-gray-50 overflow-hidden\">\n      {/* Toolbar */}\n      <div className=\"bg-white border-b border-gray-200 px-6 py-3 flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <button\n            onClick={() => setViewMode('desktop')}\n            className={`p-2 rounded-lg transition-colors ${\n              viewMode === 'desktop' ? 'bg-primary-100 text-primary-600' : 'text-gray-600 hover:bg-gray-100'\n            }`}\n            title=\"Desktop View\"\n          >\n            <Monitor className=\"w-5 h-5\" />\n          </button>\n          <button\n            onClick={() => setViewMode('tablet')}\n            className={`p-2 rounded-lg transition-colors ${\n              viewMode === 'tablet' ? 'bg-primary-100 text-primary-600' : 'text-gray-600 hover:bg-gray-100'\n            }`}\n            title=\"Tablet View\"\n          >\n            <Tablet className=\"w-5 h-5\" />\n          </button>\n          <button\n            onClick={() => setViewMode('mobile')}\n            className={`p-2 rounded-lg transition-colors ${\n              viewMode === 'mobile' ? 'bg-primary-100 text-primary-600' : 'text-gray-600 hover:bg-gray-100'\n            }`}\n            title=\"Mobile View\"\n          >\n            <Smartphone className=\"w-5 h-5\" />\n          </button>\n\n          <div className=\"w-px h-6 bg-gray-300 mx-2\" />\n\n          <button\n            onClick={() => setShowGrid(!showGrid)}\n            className={`p-2 rounded-lg transition-colors ${\n              showGrid ? 'bg-primary-100 text-primary-600' : 'text-gray-600 hover:bg-gray-100'\n            }`}\n            title=\"Toggle Grid\"\n          >\n            <Grid3x3 className=\"w-5 h-5\" />\n          </button>\n\n          {selectedElement && (\n            <>\n              <div className=\"w-px h-6 bg-gray-300 mx-2\" />\n              <button\n                onClick={duplicateElement}\n                className=\"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\n                title=\"Duplicate (Ctrl/Cmd+D)\"\n              >\n                <Copy className=\"w-5 h-5\" />\n              </button>\n              <button\n                onClick={deleteElement}\n                className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors\"\n                title=\"Delete (Del)\"\n              >\n                <Trash2 className=\"w-5 h-5\" />\n              </button>\n            </>\n          )}\n        </div>\n\n        <div className=\"flex items-center gap-3\">\n          <div className=\"flex items-center gap-2 bg-gray-100 rounded-lg px-2 py-1\">\n            <button\n              onClick={() => setZoom(Math.max(50, zoom - 10))}\n              className=\"p-1 hover:bg-white rounded transition-colors\"\n              title=\"Zoom Out\"\n            >\n              <ZoomOut className=\"w-4 h-4 text-gray-600\" />\n            </button>\n            <span className=\"text-sm font-medium text-gray-700 min-w-[60px] text-center\">{zoom}%</span>\n            <button\n              onClick={() => setZoom(Math.min(200, zoom + 10))}\n              className=\"p-1 hover:bg-white rounded transition-colors\"\n              title=\"Zoom In\"\n            >\n              <ZoomIn className=\"w-4 h-4 text-gray-600\" />\n            </button>\n            <button\n              onClick={() => setZoom(100)}\n              className=\"p-1 hover:bg-white rounded transition-colors ml-1\"\n              title=\"Reset Zoom\"\n            >\n              <Maximize2 className=\"w-4 h-4 text-gray-600\" />\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Canvas Area */}\n      <div className=\"flex-1 overflow-auto p-8\" onClick={handleCanvasClick}>\n        <DndContext sensors={sensors} onDragStart={handleDragStart} onDragEnd={handleDragEnd}>\n          <div\n            ref={setNodeRef}\n            id=\"canvas-drop-zone\"\n            className={`canvas-background mx-auto bg-white rounded-lg shadow-lg relative ${\n              isOver && draggedElement ? 'ring-4 ring-primary-300 ring-opacity-50' : ''\n            }`}\n            style={{\n              width: `${getCanvasWidth()}px`,\n              minHeight: '1000px',\n              transform: `scale(${zoom / 100})`,\n              transformOrigin: 'top center',\n              transition: 'transform 0.2s',\n              backgroundImage: showGrid ? 'linear-gradient(#e5e7eb 1px, transparent 1px), linear-gradient(90deg, #e5e7eb 1px, transparent 1px)' : 'none',\n              backgroundSize: showGrid ? '20px 20px' : 'auto'\n            }}\n          >\n            {elements.length === 0 && (\n              <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none\">\n                <div className=\"text-center text-gray-400\">\n                  <p className=\"text-lg font-medium mb-2\">Drop elements here</p>\n                  <p className=\"text-sm\">Drag elements from the left sidebar to start building</p>\n                </div>\n              </div>\n            )}\n\n            {draggedElement && (\n              <div className=\"absolute inset-0 bg-primary-50 bg-opacity-20 border-2 border-dashed border-primary-400 rounded-lg flex items-center justify-center pointer-events-none\">\n                <p className=\"text-primary-600 font-medium\">Drop to add {draggedElement}</p>\n              </div>\n            )}\n\n            {elements.map((element) => (\n              <div\n                key={element.id}\n                onClick={(e) => handleElementClick(element.id, e)}\n                className={`absolute cursor-move hover:ring-2 hover:ring-primary-300 transition-all ${\n                  selectedElement === element.id ? 'ring-2 ring-primary-500' : ''\n                }`}\n                style={{\n                  left: `${element.position.x}px`,\n                  top: `${element.position.y}px`,\n                  width: `${element.size.width}px`,\n                  height: `${element.size.height}px`,\n                  zIndex: selectedElement === element.id ? 10 : 1\n                }}\n              >\n                <ElementRenderer element={element} />\n                {selectedElement === element.id && (\n                  <div className=\"absolute -top-6 left-0 bg-primary-600 text-white text-xs px-2 py-1 rounded\">\n                    {element.type}\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n        </DndContext>\n      </div>\n    </div>\n  );\n};\n\nexport default FunnelCanvas;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}